
;; Function void __nv_save_fatbinhandle_for_managed_rt(void**) (_ZL37__nv_save_fatbinhandle_for_managed_rtPPv, funcdef_no=0, decl_uid=2204, cgraph_uid=0)

void __nv_save_fatbinhandle_for_managed_rt(void**) (void * * in)
{
  <bb 2>:
  __nv_fatbinhandle_for_managed_rt = in;
  return;

}



;; Function int fprintf(FILE*, const char*, ...) (<unset-asm-name>, funcdef_no=3212, decl_uid=1062, cgraph_uid=3034)

int fprintf(FILE*, const char*, ...) (struct FILE * restrict __stream, const char * restrict __fmt)
{
  int D.67602;
  int D.67600;

  <bb 2>:
  D.67602 = __fprintf_chk (__stream, 1, __fmt, __builtin_va_arg_pack ());
  D.67600 = D.67602;
  return D.67600;

}



;; Function int printf(const char*, ...) (<unset-asm-name>, funcdef_no=3213, decl_uid=1095, cgraph_uid=3035)

int printf(const char*, ...) (const char * restrict __fmt)
{
  int D.67550;
  int D.67548;

  <bb 2>:
  D.67550 = __printf_chk (1, __fmt, __builtin_va_arg_pack ());
  D.67548 = D.67550;
  return D.67548;

}



;; Function void print_array(int, int, double (*)[4096]) (_ZL11print_arrayiiPA4096_d, funcdef_no=3261, decl_uid=66754, cgraph_uid=3083)

void print_array(int, int, double (*)[4096]) (int ni, int nj, double[4096] * C)
{
  int j;
  int i;
  int D.67853;
  int D.67852;
  int D.67851;
  struct _IO_FILE * stderr.67;
  double D.67849;
  double[4096] * D.67848;
  long unsigned int D.67847;
  long unsigned int D.67846;

  <bb 2>:
  i = 0;
  goto <bb 9>;

  <bb 3>:
  j = 0;
  goto <bb 7>;

  <bb 4>:
  D.67846 = (long unsigned int) i;
  D.67847 = D.67846 * 32768;
  D.67848 = C + D.67847;
  D.67849 = *D.67848[j];
  stderr.67 = stderr;
  fprintf (stderr.67, "%0.2lf ", D.67849);
  D.67851 = i * ni;
  D.67852 = D.67851 + j;
  D.67853 = D.67852 % 20;
  if (D.67853 == 0)
    goto <bb 5>;
  else
    goto <bb 6>;

  <bb 5>:
  stderr.67 = stderr;
  fprintf (stderr.67, "\n");

  <bb 6>:
  j = j + 1;

  <bb 7>:
  if (j < nj)
    goto <bb 4>;
  else
    goto <bb 8>;

  <bb 8>:
  i = i + 1;

  <bb 9>:
  if (i < ni)
    goto <bb 3>;
  else
    goto <bb 10>;

  <bb 10>:
  stderr.67 = stderr;
  fprintf (stderr.67, "\n");
  return;

}



;; Function void ____nv_dummy_param_ref(void*) (_ZL22____nv_dummy_param_refPv, funcdef_no=3278, decl_uid=67150, cgraph_uid=3099)

void ____nv_dummy_param_ref(void*) (void * param)
{
  static volatile void * * __ref;

  <bb 2>:
  __ref = param;
  return;

}



;; Function double rtclock() (_ZL7rtclockv, funcdef_no=3269, decl_uid=67110, cgraph_uid=3091)

double rtclock() ()
{
  int stat;
  struct timeval Tp;
  double D.67876;
  double D.67875;
  long int D.67874;
  double D.67873;
  long int D.67872;
  double D.67871;

  <bb 2>:
  stat = gettimeofday (&Tp, 0B);
  if (stat != 0)
    goto <bb 3>;
  else
    goto <bb 4>;

  <bb 3>:
  printf ("Error return from gettimeofday: %d", stat);

  <bb 4>:
  D.67872 = Tp.tv_sec;
  D.67873 = (double) D.67872;
  D.67874 = Tp.tv_usec;
  D.67875 = (double) D.67874;
  D.67876 = D.67875 * 9.99999999999999954748111825886258685613938723690807819366e-7;
  D.67871 = D.67873 + D.67876;
  Tp = {CLOBBER};
  return D.67871;

<L5>:
  Tp = {CLOBBER};
  resx 1

}



;; Function void* xmalloc(size_t) (_ZL7xmallocm, funcdef_no=3275, decl_uid=67134, cgraph_uid=3097)

void* xmalloc(size_t) (size_t num)
{
  int ret;
  void * newA;
  void * D.67894;
  struct _IO_FILE * stderr.73;
  void * newA.72;

  <bb 2>:
  newA = 0B;
  ret = posix_memalign (&newA, 32, num);
  newA.72 = newA;
  if (newA.72 == 0B)
    goto <bb 4>;
  else
    goto <bb 3>;

  <bb 3>:
  if (ret != 0)
    goto <bb 4>;
  else
    goto <bb 6>;

  <bb 4>:
  stderr.73 = stderr;
  fprintf (stderr.73, "[PolyBench] posix_memalign: cannot allocate memory");

  <bb 5>:
  exit (1);

  <bb 6>:
  D.67894 = newA;
  newA = {CLOBBER};
  return D.67894;

<L5>:
  newA = {CLOBBER};
  resx 1

}



;; Function cudaError_t cudaLaunch(T*) [with T = char; cudaError_t = cudaError] (_Z10cudaLaunchIcE9cudaErrorPT_, funcdef_no=3305, decl_uid=67478, cgraph_uid=3126)

cudaError_t cudaLaunch(T*) [with T = char; cudaError_t = cudaError] (char * func)
{
  cudaError_t D.67941;
  cudaError_t D.67939;

  <bb 2>:
  D.67941 = cudaLaunch (func);
  D.67939 = D.67941;
  return D.67939;

}



;; Function void __cudaUnregisterBinaryUtil() (_ZL26__cudaUnregisterBinaryUtilv, funcdef_no=3279, decl_uid=67214, cgraph_uid=3100)

void __cudaUnregisterBinaryUtil() ()
{
  void * * __cudaFatCubinHandle.84;

  <bb 2>:
  ____nv_dummy_param_ref (&__cudaFatCubinHandle);
  __cudaFatCubinHandle.84 = __cudaFatCubinHandle;
  __cudaUnregisterFatBinary (__cudaFatCubinHandle.84);
  return;

}



;; Function void __nv_cudaEntityRegisterCallback(void**) (_ZL31__nv_cudaEntityRegisterCallbackPPv, funcdef_no=3303, decl_uid=67449, cgraph_uid=3124)

void __nv_cudaEntityRegisterCallback(void**) (void * * __T26)
{
  static volatile void * * __ref;

  <bb 2>:
  __ref = __T26;
  __nv_save_fatbinhandle_for_managed_rt (__T26);
  __cudaRegisterFunction (__T26, gemm_cuda_kernel, "_Z16gemm_cuda_kerneliiiddPdS_S_", "_Z16gemm_cuda_kerneliiiddPdS_S_", -1, 0B, 0B, 0B, 0B, 0B);
  return;

}



;; Function dim3::dim3(unsigned int, unsigned int, unsigned int) (_ZN4dim3C2Ejjj, funcdef_no=3, decl_uid=3003, cgraph_uid=3)

dim3::dim3(unsigned int, unsigned int, unsigned int) (struct dim3 * const this, unsigned int vx, unsigned int vy, unsigned int vz)
{
  <bb 2>:
  this->x = vx;
  this->y = vy;
  this->z = vz;
  return;

}



;; Function float std::ceil(float) (_ZSt4ceilf, funcdef_no=154, decl_uid=8694, cgraph_uid=146)

float std::ceil(float) (float __x)
{
  float D.67769;

  <bb 2>:
  D.67769 = __builtin_ceilf (__x);
  return D.67769;

}



;; Function float absVal(float) (_Z6absValf, funcdef_no=3240, decl_uid=65923, cgraph_uid=3062)

float absVal(float) (float a)
{
  float D.67511;

  <bb 2>:
  if (a < 0.0)
    goto <bb 3>;
  else
    goto <bb 4>;

  <bb 3>:
  D.67511 = -a;
  goto <bb 5>;

  <bb 4>:
  D.67511 = a;

  <bb 5>:
  return D.67511;

}



;; Function float percentDiff(double, double) (_Z11percentDiffdd, funcdef_no=3241, decl_uid=65927, cgraph_uid=3063)

float percentDiff(double, double) (double val1, double val2)
{
  float D.67535;
  float D.67534;
  float D.67533;
  float D.67532;
  double D.67531;
  float D.67530;
  float D.67529;
  double D.67528;
  float D.67527;
  double D.67523;
  float D.67522;
  float D.67521;
  double D.67519;
  float D.67518;
  float D.67517;
  bool iftmp.1;
  bool retval.0;

  <bb 2>:
  D.67517 = (float) val1;
  D.67518 = absVal (D.67517);
  D.67519 = (double) D.67518;
  if (D.67519 < 1.00000000000000002081668171172168513294309377670288085938e-2)
    goto <bb 3>;
  else
    goto <bb 5>;

  <bb 3>:
  D.67521 = (float) val2;
  D.67522 = absVal (D.67521);
  D.67523 = (double) D.67522;
  if (D.67523 < 1.00000000000000002081668171172168513294309377670288085938e-2)
    goto <bb 4>;
  else
    goto <bb 5>;

  <bb 4>:
  iftmp.1 = 1;
  goto <bb 6>;

  <bb 5>:
  iftmp.1 = 0;

  <bb 6>:
  retval.0 = iftmp.1;
  if (retval.0 != 0)
    goto <bb 7>;
  else
    goto <bb 8>;

  <bb 7>:
  D.67527 = 0.0;
  goto <bb 9>;

  <bb 8>:
  D.67528 = val1 - val2;
  D.67529 = (float) D.67528;
  D.67530 = absVal (D.67529);
  D.67531 = val1 + 9.99999993922529029077850282192230224609375e-9;
  D.67532 = (float) D.67531;
  D.67533 = absVal (D.67532);
  D.67534 = D.67530 / D.67533;
  D.67535 = absVal (D.67534);
  D.67527 = D.67535 * 1.0e+2;

  <bb 9>:
  return D.67527;

}



;; Function uint64_t get_time() (_Z8get_timev, funcdef_no=3246, decl_uid=66101, cgraph_uid=3068)

uint64_t get_time() ()
{
  struct timespec spec;
  long unsigned int D.67542;
  long int D.67541;
  long unsigned int D.67540;
  long unsigned int D.67539;
  long int D.67538;
  uint64_t D.67537;

  <bb 2>:
  clock_gettime (1, &spec);
  D.67538 = spec.tv_sec;
  D.67539 = (long unsigned int) D.67538;
  D.67540 = D.67539 * 1000000000;
  D.67541 = spec.tv_nsec;
  D.67542 = (long unsigned int) D.67541;
  D.67537 = D.67540 + D.67542;
  spec = {CLOBBER};
  return D.67537;

}



;; Function void hookomp_timing_start(uint64_t*) (_Z20hookomp_timing_startPm, funcdef_no=3247, decl_uid=66105, cgraph_uid=3069)

void hookomp_timing_start(uint64_t*) (uint64_t * _start)
{
  long unsigned int D.67545;

  <bb 2>:
  D.67545 = get_time ();
  *_start = D.67545;
  return;

}



;; Function void hookomp_timing_stop(uint64_t*) (_Z19hookomp_timing_stopPm, funcdef_no=3248, decl_uid=66108, cgraph_uid=3070)

void hookomp_timing_stop(uint64_t*) (uint64_t * _stop)
{
  long unsigned int D.67546;

  <bb 2>:
  D.67546 = get_time ();
  *_stop = D.67546;
  return;

}



;; Function void hookomp_timing_print(uint64_t, uint64_t) (_Z20hookomp_timing_printmm, funcdef_no=3249, decl_uid=66112, cgraph_uid=3071)

void hookomp_timing_print(uint64_t, uint64_t) (uint64_t tstart, uint64_t tstop)
{
  long unsigned int D.67547;

  <bb 2>:
  D.67547 = tstop - tstart;
  printf ("%lu", D.67547);
  return;

}



;; Function void hookomp_timing_print_without_dev() (_Z32hookomp_timing_print_without_devv, funcdef_no=3250, decl_uid=66114, cgraph_uid=3072)

void hookomp_timing_print_without_dev() ()
{
  uint64_t dt_time;
  uint64_t dev_time;
  uint64_t total_time;
  long unsigned int D.67572;
  uint64_t iftmp.14;
  long unsigned int D.67568;
  long unsigned int data_transfer_d2h_start.13;
  long unsigned int data_transfer_d2h_stop.12;
  long unsigned int D.67565;
  long unsigned int data_transfer_h2d_start.11;
  long unsigned int data_transfer_h2d_stop.10;
  long unsigned int D.67562;
  long unsigned int dev_kernel3_start.9;
  long unsigned int dev_kernel3_stop.8;
  long unsigned int D.67559;
  long unsigned int D.67558;
  long unsigned int dev_kernel2_start.7;
  long unsigned int dev_kernel2_stop.6;
  long unsigned int D.67555;
  long unsigned int dev_kernel1_start.5;
  long unsigned int dev_kernel1_stop.4;
  long unsigned int omp_start.3;
  long unsigned int omp_stop.2;

  <bb 2>:
  omp_stop.2 = omp_stop;
  omp_start.3 = omp_start;
  total_time = omp_stop.2 - omp_start.3;
  dev_kernel1_stop.4 = dev_kernel1_stop;
  dev_kernel1_start.5 = dev_kernel1_start;
  D.67555 = dev_kernel1_stop.4 - dev_kernel1_start.5;
  dev_kernel2_stop.6 = dev_kernel2_stop;
  dev_kernel2_start.7 = dev_kernel2_start;
  D.67558 = dev_kernel2_stop.6 - dev_kernel2_start.7;
  D.67559 = D.67555 + D.67558;
  dev_kernel3_stop.8 = dev_kernel3_stop;
  dev_kernel3_start.9 = dev_kernel3_start;
  D.67562 = dev_kernel3_stop.8 - dev_kernel3_start.9;
  dev_time = D.67559 + D.67562;
  data_transfer_h2d_stop.10 = data_transfer_h2d_stop;
  data_transfer_h2d_start.11 = data_transfer_h2d_start;
  D.67565 = data_transfer_h2d_stop.10 - data_transfer_h2d_start.11;
  data_transfer_d2h_stop.12 = data_transfer_d2h_stop;
  data_transfer_d2h_start.13 = data_transfer_d2h_start;
  D.67568 = data_transfer_d2h_stop.12 - data_transfer_d2h_start.13;
  dt_time = D.67565 + D.67568;
  if (total_time != 0)
    goto <bb 3>;
  else
    goto <bb 4>;

  <bb 3>:
  D.67572 = total_time - dev_time;
  iftmp.14 = D.67572 - dt_time;
  goto <bb 5>;

  <bb 4>:
  iftmp.14 = total_time;

  <bb 5>:
  printf ("%lu", iftmp.14);
  return;

}



;; Function void hookomp_print_time_results() (_Z26hookomp_print_time_resultsv, funcdef_no=3251, decl_uid=66119, cgraph_uid=3073)

void hookomp_print_time_results() ()
{
  int D.67599;
  bool made_the_offloading.33;
  int D.67597;
  bool decided_by_offloading.32;
  int D.67595;
  bool D.67591;
  bool reach_offload_decision_point.31;
  int iftmp.30;
  long unsigned int data_transfer_d2h_start.29;
  long unsigned int data_transfer_d2h_stop.28;
  long unsigned int data_transfer_h2d_start.27;
  long unsigned int data_transfer_h2d_stop.26;
  long unsigned int dev_kernel3_start.25;
  long unsigned int dev_kernel3_stop.24;
  long unsigned int dev_kernel2_start.23;
  long unsigned int dev_kernel2_stop.22;
  long unsigned int dev_kernel1_start.21;
  long unsigned int dev_kernel1_stop.20;
  long unsigned int omp_start.19;
  long unsigned int omp_stop.18;
  long unsigned int seq_start.17;
  long unsigned int seq_stop.16;
  struct _IO_FILE * stdout.15;

  <bb 2>:
  stdout.15 = stdout;
  fprintf (stdout.15, "ORIG = ");
  seq_stop.16 = seq_stop;
  seq_start.17 = seq_start;
  hookomp_timing_print (seq_start.17, seq_stop.16);
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "OMP_OFF = ");
  omp_stop.18 = omp_stop;
  omp_start.19 = omp_start;
  hookomp_timing_print (omp_start.19, omp_stop.18);
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "OMP = ");
  hookomp_timing_print_without_dev ();
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "CUDA_KERNEL1 = ");
  dev_kernel1_stop.20 = dev_kernel1_stop;
  dev_kernel1_start.21 = dev_kernel1_start;
  hookomp_timing_print (dev_kernel1_start.21, dev_kernel1_stop.20);
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "CUDA_KERNEL2 = ");
  dev_kernel2_stop.22 = dev_kernel2_stop;
  dev_kernel2_start.23 = dev_kernel2_start;
  hookomp_timing_print (dev_kernel2_start.23, dev_kernel2_stop.22);
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "CUDA_KERNEL3 = ");
  dev_kernel3_stop.24 = dev_kernel3_stop;
  dev_kernel3_start.25 = dev_kernel3_start;
  hookomp_timing_print (dev_kernel3_start.25, dev_kernel3_stop.24);
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "DT_H2D = ");
  data_transfer_h2d_stop.26 = data_transfer_h2d_stop;
  data_transfer_h2d_start.27 = data_transfer_h2d_start;
  hookomp_timing_print (data_transfer_h2d_start.27, data_transfer_h2d_stop.26);
  stdout.15 = stdout;
  fprintf (stdout.15, ", ");
  stdout.15 = stdout;
  fprintf (stdout.15, "DT_D2H = ");
  data_transfer_d2h_stop.28 = data_transfer_d2h_stop;
  data_transfer_d2h_start.29 = data_transfer_d2h_start;
  hookomp_timing_print (data_transfer_d2h_start.29, data_transfer_d2h_stop.28);
  reach_offload_decision_point.31 = reach_offload_decision_point;
  D.67591 = ~reach_offload_decision_point.31;
  if (D.67591 != 0)
    goto <bb 3>;
  else
    goto <bb 4>;

  <bb 3>:
  iftmp.30 = 1;
  goto <bb 5>;

  <bb 4>:
  iftmp.30 = 0;

  <bb 5>:
  stdout.15 = stdout;
  fprintf (stdout.15, ", WORK_FINISHED_BEFORE_OFFLOAD_DECISION = %d", iftmp.30);
  reach_offload_decision_point.31 = reach_offload_decision_point;
  D.67595 = (int) reach_offload_decision_point.31;
  stdout.15 = stdout;
  fprintf (stdout.15, ", REACH_OFFLOAD_DECISION_POINT = %d", D.67595);
  decided_by_offloading.32 = decided_by_offloading;
  D.67597 = (int) decided_by_offloading.32;
  stdout.15 = stdout;
  fprintf (stdout.15, ", DECIDED_BY_OFFLOADING = %d", D.67597);
  made_the_offloading.33 = made_the_offloading;
  D.67599 = (int) made_the_offloading.33;
  stdout.15 = stdout;
  fprintf (stdout.15, ", MADE_THE_OFFLOADING = %d", D.67599);
  stdout.15 = stdout;
  fprintf (stdout.15, "\n");
  return;

}



;; Function bool create_target_functions_table(Func****, int, int) (_Z29create_target_functions_tablePPPP4Funcii, funcdef_no=3256, decl_uid=66664, cgraph_uid=3078)

bool create_target_functions_table(Func****, int, int) (struct Func * * * * table_, int nrows, int ncolumns)
{
  int j;
  int i;
  bool result;
  struct Func * * * table;
  bool D.67624;
  struct Func * D.67621;
  void * D.67620;
  struct Func * * D.67619;
  long unsigned int D.67618;
  long unsigned int D.67617;
  struct Func * * D.67614;
  void * D.67613;
  long unsigned int D.67612;
  long unsigned int D.67611;
  struct Func * * * D.67610;
  long unsigned int D.67609;
  long unsigned int D.67608;
  long unsigned int D.67605;
  long unsigned int D.67604;
  struct _IO_FILE * stderr.34;

  <bb 2>:
  result = 1;
  stderr.34 = stderr;
  fprintf (stderr.34, "Allocating the rows.\n");
  D.67604 = (long unsigned int) nrows;
  D.67605 = D.67604 * 8;
  table = malloc (D.67605);
  if (table != 0B)
    goto <bb 3>;
  else
    goto <bb 11>;

  <bb 3>:
  stderr.34 = stderr;
  fprintf (stderr.34, "Allocating the columns.\n");
  i = 0;
  goto <bb 10>;

  <bb 4>:
  D.67608 = (long unsigned int) i;
  D.67609 = D.67608 * 8;
  D.67610 = table + D.67609;
  D.67611 = (long unsigned int) ncolumns;
  D.67612 = D.67611 * 8;
  D.67613 = malloc (D.67612);
  *D.67610 = D.67613;
  D.67608 = (long unsigned int) i;
  D.67609 = D.67608 * 8;
  D.67610 = table + D.67609;
  D.67614 = *D.67610;
  if (D.67614 != 0B)
    goto <bb 5>;
  else
    goto <bb 8>;

  <bb 5>:
  j = 0;
  goto <bb 7>;

  <bb 6>:
  D.67608 = (long unsigned int) i;
  D.67609 = D.67608 * 8;
  D.67610 = table + D.67609;
  D.67614 = *D.67610;
  D.67617 = (long unsigned int) j;
  D.67618 = D.67617 * 8;
  D.67619 = D.67614 + D.67618;
  D.67620 = malloc (48);
  *D.67619 = D.67620;
  D.67608 = (long unsigned int) i;
  D.67609 = D.67608 * 8;
  D.67610 = table + D.67609;
  D.67614 = *D.67610;
  D.67617 = (long unsigned int) j;
  D.67618 = D.67617 * 8;
  D.67619 = D.67614 + D.67618;
  D.67621 = *D.67619;
  D.67621->f = 0B;
  j = j + 1;

  <bb 7>:
  if (j < ncolumns)
    goto <bb 6>;
  else
    goto <bb 9>;

  <bb 8>:
  stderr.34 = stderr;
  fprintf (stderr.34, "Error in table of target functions allocation (columns).\n");
  result = 0;

  <bb 9>:
  i = i + 1;

  <bb 10>:
  if (i < nrows)
    goto <bb 4>;
  else
    goto <bb 12>;

  <bb 11>:
  stderr.34 = stderr;
  fprintf (stderr.34, "Error in table of target functions allocation (rows).\n");
  result = 0;

  <bb 12>:
  stderr.34 = stderr;
  fprintf (stderr.34, "Allocating the columns is OK.\n");
  *table_ = table;
  D.67624 = result;
  return D.67624;

}



;; Function void call_function_ffi_call(Func*) (_Z22call_function_ffi_callP4Func, funcdef_no=3257, decl_uid=66679, cgraph_uid=3079)

void call_function_ffi_call(Func*) (struct Func * ff)
{
  ffi_status D.67639;
  struct ffi_cif cif;
  void (*<T19f3>) (void) D.67638;
  void * D.67637;
  void * D.67636;
  void * * D.67635;
  ffi_status D.67632;
  unsigned int D.67631;
  int D.67630;
  struct ffi_type * D.67629;
  struct ffi_type * * D.67628;
  bool retval.36;
  struct _IO_FILE * stderr.35;

  <bb 2>:
  stderr.35 = stderr;
  fprintf (stderr.35, " In call_function_ffi_call.\n");

  <bb 3>:
  D.67628 = ff->arg_types;
  D.67629 = ff->ret_type;
  D.67630 = ff->nargs;
  D.67631 = (unsigned int) D.67630;
  D.67639 = ffi_prep_cif (&cif, 2, D.67631, D.67629, D.67628);

  <bb 4>:
  D.67632 = D.67639;
  retval.36 = D.67632 != 0;
  if (retval.36 != 0)
    goto <bb 5>;
  else
    goto <bb 7>;

  <bb 5>:
  stderr.35 = stderr;
  fprintf (stderr.35, "Error ffi_prep_cif.\n");

  <bb 6>:
  exit (1);

  <bb 7>:
  D.67635 = ff->arg_values;
  D.67636 = ff->ret_value;
  D.67637 = ff->f;
  D.67638 = (void (*<T19f3>) (void)) D.67637;
  ffi_call (&cif, D.67638, D.67636, D.67635);

  <bb 8>:
  cif = {CLOBBER};
  return;

<L2>:
  cif = {CLOBBER};
  resx 1

}



;; Function void init_array(int, int, int, double*, double*, double (*)[4096], double (*)[4096], double (*)[4096]) (_Z10init_arrayiiiPdS_PA4096_dS1_S1_, funcdef_no=3258, decl_uid=66690, cgraph_uid=3080)

void init_array(int, int, int, double*, double*, double (*)[4096], double (*)[4096], double (*)[4096]) (int ni, int nj, int nk, double * alpha, double * beta, double[4096] * A, double[4096] * B, double[4096] * C)
{
  int j;
  int i;
  double[4096] * D.67650;
  double[4096] * D.67649;
  double D.67648;
  double D.67647;
  double D.67646;
  double D.67645;
  double[4096] * D.67644;
  long unsigned int D.67643;
  long unsigned int D.67642;

  <bb 2>:
  *alpha = 3.2412e+4;
  *beta = 2.123e+3;
  i = 0;
  goto <bb 7>;

  <bb 3>:
  j = 0;
  goto <bb 5>;

  <bb 4>:
  D.67642 = (long unsigned int) i;
  D.67643 = D.67642 * 32768;
  D.67644 = A + D.67643;
  D.67645 = (double) i;
  D.67646 = (double) j;
  D.67647 = D.67645 * D.67646;
  D.67648 = D.67647 * 2.44140625e-4;
  *D.67644[j] = D.67648;
  j = j + 1;

  <bb 5>:
  if (j < nk)
    goto <bb 4>;
  else
    goto <bb 6>;

  <bb 6>:
  i = i + 1;

  <bb 7>:
  if (i < ni)
    goto <bb 3>;
  else
    goto <bb 8>;

  <bb 8>:
  i = 0;
  goto <bb 13>;

  <bb 9>:
  j = 0;
  goto <bb 11>;

  <bb 10>:
  D.67642 = (long unsigned int) i;
  D.67643 = D.67642 * 32768;
  D.67649 = B + D.67643;
  D.67645 = (double) i;
  D.67646 = (double) j;
  D.67647 = D.67645 * D.67646;
  D.67648 = D.67647 * 2.44140625e-4;
  *D.67649[j] = D.67648;
  j = j + 1;

  <bb 11>:
  if (j < nj)
    goto <bb 10>;
  else
    goto <bb 12>;

  <bb 12>:
  i = i + 1;

  <bb 13>:
  if (i < nk)
    goto <bb 9>;
  else
    goto <bb 14>;

  <bb 14>:
  i = 0;
  goto <bb 19>;

  <bb 15>:
  j = 0;
  goto <bb 17>;

  <bb 16>:
  D.67642 = (long unsigned int) i;
  D.67643 = D.67642 * 32768;
  D.67650 = C + D.67643;
  D.67645 = (double) i;
  D.67646 = (double) j;
  D.67647 = D.67645 * D.67646;
  D.67648 = D.67647 * 2.44140625e-4;
  *D.67650[j] = D.67648;
  j = j + 1;

  <bb 17>:
  if (j < nj)
    goto <bb 16>;
  else
    goto <bb 18>;

  <bb 18>:
  i = i + 1;

  <bb 19>:
  if (i < ni)
    goto <bb 15>;
  else
    goto <bb 20>;

  <bb 20>:
  return;

}



;; Function void copy_array(int, int, double (*)[4096], double (*)[4096]) (_Z10copy_arrayiiPA4096_dS0_, funcdef_no=3259, decl_uid=66722, cgraph_uid=3081)

void copy_array(int, int, double (*)[4096], double (*)[4096]) (int ni, int nj, double[4096] * C_source, double[4096] * C_dest)
{
  int j;
  int i;
  double D.67655;
  double[4096] * D.67654;
  double[4096] * D.67653;
  long unsigned int D.67652;
  long unsigned int D.67651;

  <bb 2>:
  i = 0;
  goto <bb 7>;

  <bb 3>:
  j = 0;
  goto <bb 5>;

  <bb 4>:
  D.67651 = (long unsigned int) i;
  D.67652 = D.67651 * 32768;
  D.67653 = C_dest + D.67652;
  D.67651 = (long unsigned int) i;
  D.67652 = D.67651 * 32768;
  D.67654 = C_source + D.67652;
  D.67655 = *D.67654[j];
  *D.67653[j] = D.67655;
  j = j + 1;

  <bb 5>:
  if (j < nj)
    goto <bb 4>;
  else
    goto <bb 6>;

  <bb 6>:
  i = i + 1;

  <bb 7>:
  if (i < ni)
    goto <bb 3>;
  else
    goto <bb 8>;

  <bb 8>:
  return;

}



;; Function void compareResults(int, int, double (*)[4096], double (*)[4096]) (_Z14compareResultsiiPA4096_dS0_, funcdef_no=3260, decl_uid=66738, cgraph_uid=3082)

void compareResults(int, int, double (*)[4096], double (*)[4096]) (int ni, int nj, double[4096] * C, double[4096] * C_output)
{
  int fail;
  int j;
  int i;
  struct _IO_FILE * stderr.38;
  double D.67664;
  float D.67663;
  double D.67662;
  double[4096] * D.67661;
  double D.67660;
  double[4096] * D.67659;
  long unsigned int D.67658;
  long unsigned int D.67657;
  bool retval.37;

  <bb 2>:
  fail = 0;
  i = 0;
  goto <bb 9>;

  <bb 3>:
  j = 0;
  goto <bb 7>;

  <bb 4>:
  D.67657 = (long unsigned int) i;
  D.67658 = D.67657 * 32768;
  D.67659 = C_output + D.67658;
  D.67660 = *D.67659[j];
  D.67657 = (long unsigned int) i;
  D.67658 = D.67657 * 32768;
  D.67661 = C + D.67658;
  D.67662 = *D.67661[j];
  D.67663 = percentDiff (D.67662, D.67660);
  D.67664 = (double) D.67663;
  retval.37 = D.67664 > 5.000000000000000277555756156289135105907917022705078125e-2;
  if (retval.37 != 0)
    goto <bb 5>;
  else
    goto <bb 6>;

  <bb 5>:
  fail = fail + 1;

  <bb 6>:
  j = j + 1;

  <bb 7>:
  if (j < nj)
    goto <bb 4>;
  else
    goto <bb 8>;

  <bb 8>:
  i = i + 1;

  <bb 9>:
  if (i < ni)
    goto <bb 3>;
  else
    goto <bb 10>;

  <bb 10>:
  stderr.38 = stderr;
  fprintf (stderr.38, "Non-Matching CPU-GPU Outputs Beyond Error Threshold of %4.2f Percent: %d\n", 5.000000000000000277555756156289135105907917022705078125e-2, fail);
  return;

}



;; Function void gemm(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (_Z4gemmiiiddPA4096_dS0_S0_, funcdef_no=3262, decl_uid=66774, cgraph_uid=3084)

void gemm(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (int ni, int nj, int nk, double alpha, double beta, double[4096] * A, double[4096] * B, double[4096] * C)
{
  int k;
  int j;
  int i;
  double D.67682;
  double D.67681;
  double D.67680;
  double[4096] * D.67679;
  long unsigned int D.67678;
  long unsigned int D.67677;
  double D.67676;
  double D.67675;
  double[4096] * D.67674;
  double D.67673;
  double D.67672;
  double[4096] * D.67671;
  long unsigned int D.67670;
  long unsigned int D.67669;

  <bb 2>:
  i = 0;
  goto <bb 10>;

  <bb 3>:
  j = 0;
  goto <bb 8>;

  <bb 4>:
  D.67669 = (long unsigned int) i;
  D.67670 = D.67669 * 32768;
  D.67671 = C + D.67670;
  D.67669 = (long unsigned int) i;
  D.67670 = D.67669 * 32768;
  D.67671 = C + D.67670;
  D.67672 = *D.67671[j];
  D.67673 = D.67672 * beta;
  *D.67671[j] = D.67673;
  k = 0;
  goto <bb 6>;

  <bb 5>:
  D.67669 = (long unsigned int) i;
  D.67670 = D.67669 * 32768;
  D.67671 = C + D.67670;
  D.67669 = (long unsigned int) i;
  D.67670 = D.67669 * 32768;
  D.67671 = C + D.67670;
  D.67672 = *D.67671[j];
  D.67669 = (long unsigned int) i;
  D.67670 = D.67669 * 32768;
  D.67674 = A + D.67670;
  D.67675 = *D.67674[k];
  D.67676 = D.67675 * alpha;
  D.67677 = (long unsigned int) k;
  D.67678 = D.67677 * 32768;
  D.67679 = B + D.67678;
  D.67680 = *D.67679[j];
  D.67681 = D.67676 * D.67680;
  D.67682 = D.67672 + D.67681;
  *D.67671[j] = D.67682;
  k = k + 1;

  <bb 6>:
  if (k < nk)
    goto <bb 5>;
  else
    goto <bb 7>;

  <bb 7>:
  j = j + 1;

  <bb 8>:
  if (j < nj)
    goto <bb 4>;
  else
    goto <bb 9>;

  <bb 9>:
  i = i + 1;

  <bb 10>:
  if (i < ni)
    goto <bb 3>;
  else
    goto <bb 11>;

  <bb 11>:
  return;

}



;; Function void gemm_original(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (_Z13gemm_originaliiiddPA4096_dS0_S0_, funcdef_no=3263, decl_uid=66799, cgraph_uid=3085)

void gemm_original(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (int ni, int nj, int nk, double alpha, double beta, double[4096] * A, double[4096] * B, double[4096] * C)
{
  <bb 2>:
  hookomp_timing_start (&seq_start);
  gemm (ni, nj, nk, alpha, beta, A, B, C);
  hookomp_timing_stop (&seq_stop);
  return;

}



;; Function void gemm_omp_kernel(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (_Z15gemm_omp_kerneliiiddPA4096_dS0_S0_, funcdef_no=3264, decl_uid=66809, cgraph_uid=3086)


OMP region tree

bb 2: gimple_omp_parallel
    bb 3: gimple_omp_for
    bb 10: GIMPLE_OMP_CONTINUE
    bb 11: GIMPLE_OMP_RETURN
bb 12: GIMPLE_OMP_RETURN

Merging blocks 2 and 17
Merging blocks 2 and 13
void gemm_omp_kernel(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (int ni, int nj, int nk, double alpha, double beta, double[4096] * A, double[4096] * B, double[4096] * C)
{
  bool D.68152;
  long int .iend0.115;
  int D.68151;
  long int .istart0.114;
  long int D.68147;
  bool D.68148;
  long int .iend0.113;
  long int .istart0.112;
  int k;
  int j;
  int i;
  int D.67742;
  int k;
  int j;
  int i;
  struct .omp_data_s.41 .omp_data_o.42;
  int D.67741;
  int D.67740;
  double[4096] * D.67739;
  double D.67738;
  double[4096] * D.67737;
  double[4096] * D.67736;
  double[4096] * D.67735;
  double D.67734;
  double[4096] * D.67733;
  double[4096] * D.67732;

  <bb 2>:
  .omp_data_o.42.alpha = alpha;
  .omp_data_o.42.beta = beta;
  .omp_data_o.42.A = A;
  .omp_data_o.42.B = B;
  .omp_data_o.42.C = C;
  .omp_data_o.42.ni = ni;
  .omp_data_o.42.nj = nj;
  .omp_data_o.42.nk = nk;
  __builtin_GOMP_parallel_start (_Z15gemm_omp_kerneliiiddPA4096_dS0_S0_._omp_fn.0, &.omp_data_o.42, 1);
  _Z15gemm_omp_kerneliiiddPA4096_dS0_S0_._omp_fn.0 (&.omp_data_o.42);
  __builtin_GOMP_parallel_end ();
  alpha = .omp_data_o.42.alpha;
  beta = .omp_data_o.42.beta;
  A = .omp_data_o.42.A;
  B = .omp_data_o.42.B;
  C = .omp_data_o.42.C;
  ni = .omp_data_o.42.ni;
  nj = .omp_data_o.42.nj;
  nk = .omp_data_o.42.nk;
  return;

}



;; Function void gemm_omp(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (_Z8gemm_ompiiiddPA4096_dS0_S0_, funcdef_no=3265, decl_uid=66831, cgraph_uid=3087)

void gemm_omp(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096]) (int ni, int nj, int nk, double alpha, double beta, double[4096] * A, double[4096] * B, double[4096] * C_outputFromOMP)
{
  <bb 2>:
  hookomp_timing_start (&omp_start);
  gemm_omp_kernel (ni, nj, nk, alpha, beta, A, B, C_outputFromOMP);
  hookomp_timing_stop (&omp_stop);
  return;

}



;; Function void GPU_argv_init() (_Z13GPU_argv_initv, funcdef_no=3266, decl_uid=66833, cgraph_uid=3088)

void GPU_argv_init() ()
{
  struct cudaDeviceProp deviceProp;
  struct _IO_FILE * stderr.43;

  <bb 2>:
  stderr.43 = stderr;
  fprintf (stderr.43, "GPU init.\n");

  <bb 3>:
  cudaGetDeviceProperties (&deviceProp, 0);

  <bb 4>:
  stderr.43 = stderr;
  fprintf (stderr.43, "setting device %d with name %s\n", 0, &deviceProp.name);

  <bb 5>:
  cudaSetDevice (0);

  <bb 6>:
  deviceProp = {CLOBBER};
  return;

<L0>:
  deviceProp = {CLOBBER};
  resx 1

}



;; Function void polybench_flush_cache() (_Z21polybench_flush_cachev, funcdef_no=3270, decl_uid=67114, cgraph_uid=3092)

void polybench_flush_cache() ()
{
  static const char __PRETTY_FUNCTION__[29] = "void polybench_flush_cache()";
  double tmp;
  int i;
  double * flush;
  int cs;
  double D.67862;
  double * D.67861;
  long unsigned int D.67860;
  long unsigned int D.67859;
  long unsigned int D.67858;
  long unsigned int D.67857;

  <bb 2>:
  D.67857 = 4194560;
  cs = (int) D.67857;
  D.67858 = (long unsigned int) cs;
  flush = calloc (D.67858, 8);
  tmp = 0.0;
  i = 0;
  goto <bb 4>;

  <bb 3>:
  D.67859 = (long unsigned int) i;
  D.67860 = D.67859 * 8;
  D.67861 = flush + D.67860;
  D.67862 = *D.67861;
  tmp = D.67862 + tmp;
  i = i + 1;

  <bb 4>:
  if (i < cs)
    goto <bb 3>;
  else
    goto <bb 5>;

  <bb 5>:
  if (tmp <= 1.0e+1)
    goto <bb 7>;
  else
    goto <bb 6>;

  <bb 6>:
  __assert_fail ("tmp <= 10.0", "../../../utilities/polybench.c", 96, &__PRETTY_FUNCTION__);

  <bb 7>:
  free (flush);
  return;

}



;; Function void polybench_prepare_instruments() (_Z29polybench_prepare_instrumentsv, funcdef_no=3271, decl_uid=67125, cgraph_uid=3093)

void polybench_prepare_instruments() ()
{
  <bb 2>:
  polybench_flush_cache ();
  return;

}



;; Function void polybench_timer_start() (_Z21polybench_timer_startv, funcdef_no=3272, decl_uid=65913, cgraph_uid=3094)

void polybench_timer_start() ()
{
  double D.67867;
  double polybench_t_start.68;

  <bb 2>:
  polybench_prepare_instruments ();
  D.67867 = rtclock ();
  polybench_t_start.68 = D.67867;
  polybench_t_start = polybench_t_start.68;
  return;

}



;; Function void polybench_timer_stop() (_Z20polybench_timer_stopv, funcdef_no=3273, decl_uid=65914, cgraph_uid=3095)

void polybench_timer_stop() ()
{
  double D.67881;
  double polybench_t_end.69;

  <bb 2>:
  D.67881 = rtclock ();
  polybench_t_end.69 = D.67881;
  polybench_t_end = polybench_t_end.69;
  return;

}



;; Function void polybench_timer_print() (_Z21polybench_timer_printv, funcdef_no=3274, decl_uid=65915, cgraph_uid=3096)

void polybench_timer_print() ()
{
  double D.67884;
  double polybench_t_start.71;
  double polybench_t_end.70;

  <bb 2>:
  polybench_t_end.70 = polybench_t_end;
  polybench_t_start.71 = polybench_t_start;
  D.67884 = polybench_t_end.70 - polybench_t_start.71;
  printf ("%0.6f\n", D.67884);
  return;

}



;; Function void* polybench_alloc_data(long long unsigned int, int) (_Z20polybench_alloc_datayi, funcdef_no=3276, decl_uid=65921, cgraph_uid=3098)

void* polybench_alloc_data(long long unsigned int, int) (long long unsigned int n, int elt_size)
{
  void * D.67888;
  void * ret;
  size_t val;
  void * D.67886;
  long unsigned int D.67885;

  <bb 2>:
  val = n;
  D.67885 = (long unsigned int) elt_size;
  val = D.67885 * val;
  D.67888 = xmalloc (val);
  ret = D.67888;
  D.67886 = ret;
  return D.67886;

}



;; Function int main(int, char**) (main, funcdef_no=3268, decl_uid=66878, cgraph_uid=3090)

int main(int, char**) (int argc, char * * argv)
{
  bool D.67843;
  void * D.67842;
  void * D.67841;
  double[4096][4096] * D.67840;
  void * D.67839;
  void * D.67838;
  void * D.67837;
  static const char __PRETTY_FUNCTION__[22] = "int main(int, char**)";
  int ndevices;
  int nloops;
  struct Func * ff_0;
  int n_params;
  double[4096][4096] * C_outputFromGpu;
  double[4096][4096] * C_inputToGpu;
  double[4096][4096] * C_outputFromOMP;
  double[4096][4096] * C;
  double[4096][4096] * B;
  double[4096][4096] * A;
  double beta;
  double alpha;
  int nk;
  int nj;
  int ni;
  int D.67835;
  unsigned char D.67831;
  char * D.67830;
  struct _IO_FILE * stdout.66;
  double alpha.65;
  double beta.64;
  double[4096][4096] * C_outputFromGpu.63;
  int ni.62;
  int nj.61;
  int nk.60;
  double[4096][4096] * A.59;
  double[4096][4096] * B.58;
  double[4096][4096] * C.57;
  struct Func * * * TablePointerFunctions.56;
  struct Func * D.67813;
  struct Func * * D.67812;
  struct Func * * D.67811;
  struct Func * * * table.55;
  bool retval.54;
  struct ffi_type * * D.67804;
  struct ffi_type * * D.67803;
  struct ffi_type * * D.67802;
  struct ffi_type * * D.67801;
  struct ffi_type * * D.67800;
  struct ffi_type * * D.67799;
  struct ffi_type * * D.67798;
  struct ffi_type * * D.67797;
  struct ffi_type * * D.67796;
  struct ffi_type * * D.67795;
  struct ffi_type * * D.67794;
  void * * D.67793;
  void * * D.67792;
  void * * D.67791;
  void * * D.67790;
  void * * D.67789;
  void * * D.67788;
  void * * D.67787;
  void * * D.67786;
  void * * D.67785;
  void * * D.67784;
  void * * D.67783;
  void * * D.67782;
  void * D.67781;
  void * D.67780;
  long unsigned int D.67779;
  long unsigned int D.67778;
  int D.67777;
  struct _IO_FILE * stderr.53;
  void * C_outputFromGpu.52;
  void * C_inputToGpu.51;
  void * C.50;
  void * B.49;
  void * A.48;

  <bb 2>:
  ni = 4096;
  nj = 4096;
  nk = 4096;
  D.67837 = polybench_alloc_data (16777216, 8);

  <bb 3>:
  A.48 = D.67837;
  A = A.48;
  D.67838 = polybench_alloc_data (16777216, 8);

  <bb 4>:
  B.49 = D.67838;
  B = B.49;
  D.67839 = polybench_alloc_data (16777216, 8);

  <bb 5>:
  C.50 = D.67839;
  C = C.50;
  D.67840 = polybench_alloc_data (16777216, 8);

  <bb 6>:
  C_outputFromOMP = D.67840;
  D.67841 = polybench_alloc_data (16777216, 8);

  <bb 7>:
  C_inputToGpu.51 = D.67841;
  C_inputToGpu = C_inputToGpu.51;
  D.67842 = polybench_alloc_data (16777216, 8);

  <bb 8>:
  C_outputFromGpu.52 = D.67842;
  C_outputFromGpu = C_outputFromGpu.52;
  stderr.53 = stderr;
  fprintf (stderr.53, "Preparing alternatives functions.\n");

  <bb 9>:
  n_params = 10;
  ff_0 = malloc (48);
  D.67777 = n_params + 1;
  D.67778 = (long unsigned int) D.67777;
  D.67779 = D.67778 * 8;
  D.67780 = malloc (D.67779);
  ff_0->arg_types = D.67780;
  D.67777 = n_params + 1;
  D.67778 = (long unsigned int) D.67777;
  D.67779 = D.67778 * 8;
  D.67781 = malloc (D.67779);
  ff_0->arg_values = D.67781;
  ff_0->f = gemm_cuda;
  D.67782 = &ff_0->ret_value;
  memset (D.67782, 0, 8);
  ff_0->ret_type = &ffi_type_void;
  ff_0->nargs = n_params;
  D.67783 = ff_0->arg_values;
  *D.67783 = &ni;
  D.67783 = ff_0->arg_values;
  D.67784 = D.67783 + 8;
  *D.67784 = &nj;
  D.67783 = ff_0->arg_values;
  D.67785 = D.67783 + 16;
  *D.67785 = &nk;
  D.67783 = ff_0->arg_values;
  D.67786 = D.67783 + 24;
  *D.67786 = &alpha;
  D.67783 = ff_0->arg_values;
  D.67787 = D.67783 + 32;
  *D.67787 = &beta;
  D.67783 = ff_0->arg_values;
  D.67788 = D.67783 + 40;
  *D.67788 = &A;
  D.67783 = ff_0->arg_values;
  D.67789 = D.67783 + 48;
  *D.67789 = &B;
  D.67783 = ff_0->arg_values;
  D.67790 = D.67783 + 56;
  *D.67790 = &C;
  D.67783 = ff_0->arg_values;
  D.67791 = D.67783 + 64;
  *D.67791 = &C_inputToGpu;
  D.67783 = ff_0->arg_values;
  D.67792 = D.67783 + 72;
  *D.67792 = &C_outputFromGpu;
  D.67783 = ff_0->arg_values;
  D.67793 = D.67783 + 80;
  *D.67793 = 0B;
  D.67794 = ff_0->arg_types;
  *D.67794 = &ffi_type_sint32;
  D.67794 = ff_0->arg_types;
  D.67795 = D.67794 + 8;
  *D.67795 = &ffi_type_sint32;
  D.67794 = ff_0->arg_types;
  D.67796 = D.67794 + 16;
  *D.67796 = &ffi_type_sint32;
  D.67794 = ff_0->arg_types;
  D.67797 = D.67794 + 24;
  *D.67797 = &ffi_type_double;
  D.67794 = ff_0->arg_types;
  D.67798 = D.67794 + 32;
  *D.67798 = &ffi_type_double;
  D.67794 = ff_0->arg_types;
  D.67799 = D.67794 + 40;
  *D.67799 = &ffi_type_pointer;
  D.67794 = ff_0->arg_types;
  D.67800 = D.67794 + 48;
  *D.67800 = &ffi_type_pointer;
  D.67794 = ff_0->arg_types;
  D.67801 = D.67794 + 56;
  *D.67801 = &ffi_type_pointer;
  D.67794 = ff_0->arg_types;
  D.67802 = D.67794 + 64;
  *D.67802 = &ffi_type_pointer;
  D.67794 = ff_0->arg_types;
  D.67803 = D.67794 + 72;
  *D.67803 = &ffi_type_pointer;
  D.67794 = ff_0->arg_types;
  D.67804 = D.67794 + 80;
  *D.67804 = 0B;
  stderr.53 = stderr;
  fprintf (stderr.53, "Creating table of target functions.\n");

  <bb 10>:
  nloops = 1;
  ndevices = 2;
  D.67843 = create_target_functions_table (&table, nloops, ndevices);

  <bb 11>:
  retval.54 = D.67843;
  if (retval.54 != 0)
    goto <bb 12>;
  else
    goto <bb 17>;

  <bb 12>:
  table.55 = table;
  if (table.55 == 0B)
    goto <bb 13>;
  else
    goto <bb 14>;

  <bb 13>:
  __assert_fail ("table != NULL", "gemm.cu", 402, &__PRETTY_FUNCTION__);

  <bb 14>:
  stderr.53 = stderr;
  fprintf (stderr.53, "Declaring function in 0,1.\n");

  <bb 15>:
  table.55 = table;
  D.67811 = *table.55;
  D.67812 = D.67811 + 8;
  D.67813 = *D.67812;
  *D.67813 = MEM[(const struct Func &)ff_0];
  table.55 = table;
  TablePointerFunctions = table.55;
  TablePointerFunctions.56 = TablePointerFunctions;
  if (TablePointerFunctions.56 == 0B)
    goto <bb 16>;
  else
    goto <bb 17>;

  <bb 16>:
  __assert_fail ("TablePointerFunctions != NULL", "gemm.cu", 408, &__PRETTY_FUNCTION__);

  <bb 17>:
  stderr.53 = stderr;
  fprintf (stderr.53, "Calling init_array.\n");

  <bb 18>:
  C.57 = C;
  B.58 = B;
  A.59 = A;
  nk.60 = nk;
  nj.61 = nj;
  ni.62 = ni;
  init_array (ni.62, nj.61, nk.60, &alpha, &beta, A.59, B.58, C.57);
  C.57 = C;
  nj.61 = nj;
  ni.62 = ni;
  copy_array (ni.62, nj.61, C.57, C_outputFromOMP);
  C_outputFromGpu.63 = C_outputFromGpu;
  C.57 = C;
  nj.61 = nj;
  ni.62 = ni;
  copy_array (ni.62, nj.61, C.57, C_outputFromGpu.63);
  stderr.53 = stderr;
  fprintf (stderr.53, "Calling gemm_omp:\n");

  <bb 19>:
  B.58 = B;
  A.59 = A;
  beta.64 = beta;
  alpha.65 = alpha;
  nk.60 = nk;
  nj.61 = nj;
  ni.62 = ni;
  gemm_omp (ni.62, nj.61, nk.60, alpha.65, beta.64, A.59, B.58, C_outputFromOMP);
  stdout.66 = stdout;
  fprintf (stdout.66, "version = OMP+OFF, num_threads = %d, NI = %d, NJ = %d, NK = %d, ", 1, 4096, 4096, 4096);

  <bb 20>:
  hookomp_print_time_results ();

  <bb 21>:
  stderr.53 = stderr;
  fprintf (stderr.53, "Calling compareResults(original, omp).\n");

  <bb 22>:
  C.57 = C;
  nj.61 = nj;
  ni.62 = ni;
  compareResults (ni.62, nj.61, C.57, C_outputFromOMP);

  <bb 23>:
  stderr.53 = stderr;
  fprintf (stderr.53, "Calling compareResults(original, cuda).\n");

  <bb 24>:
  C_outputFromGpu.63 = C_outputFromGpu;
  C.57 = C;
  nj.61 = nj;
  ni.62 = ni;
  compareResults (ni.62, nj.61, C.57, C_outputFromGpu.63);

  <bb 25>:
  if (argc > 42)
    goto <bb 26>;
  else
    goto <bb 28>;

  <bb 26>:
  D.67830 = *argv;
  D.67831 = MEM[(const unsigned char * {ref-all})D.67830];
  if (D.67831 == 0)
    goto <bb 27>;
  else
    goto <bb 28>;

  <bb 27>:
  C_outputFromGpu.63 = C_outputFromGpu;
  nj.61 = nj;
  ni.62 = ni;
  print_array (ni.62, nj.61, C_outputFromGpu.63);

  <bb 28>:
  A.59 = A;
  free (A.59);
  B.58 = B;
  free (B.58);
  C.57 = C;
  free (C.57);
  free (C_outputFromOMP);
  C_outputFromGpu.63 = C_outputFromGpu;
  free (C_outputFromGpu.63);
  D.67835 = 0;
  ni = {CLOBBER};
  nj = {CLOBBER};
  nk = {CLOBBER};
  alpha = {CLOBBER};
  beta = {CLOBBER};
  A = {CLOBBER};
  B = {CLOBBER};
  C = {CLOBBER};
  C_inputToGpu = {CLOBBER};
  C_outputFromGpu = {CLOBBER};
  return D.67835;

<L14>:
  ni = {CLOBBER};
  nj = {CLOBBER};
  nk = {CLOBBER};
  alpha = {CLOBBER};
  beta = {CLOBBER};
  A = {CLOBBER};
  B = {CLOBBER};
  C = {CLOBBER};
  C_inputToGpu = {CLOBBER};
  C_outputFromGpu = {CLOBBER};
  resx 1

}



;; Function void __device_stub__Z16gemm_cuda_kerneliiiddPdS_S_(int, int, int, double, double, double*, double*, double*) (_Z45__device_stub__Z16gemm_cuda_kerneliiiddPdS_S_iiiddPdS_S_, funcdef_no=3301, decl_uid=67447, cgraph_uid=3122)

void __device_stub__Z16gemm_cuda_kerneliiiddPdS_S_(int, int, int, double, double, double*, double*, double*) (int __par0, int __par1, int __par2, double __par3, double __par4, double * __par5, double * __par6, double * __par7)
{
  cudaError D.67938;
  cudaError D.67937;
  cudaError D.67936;
  cudaError D.67935;
  cudaError D.67934;
  cudaError D.67933;
  cudaError D.67932;
  cudaError D.67931;
  static volatile char * __f;
  cudaError D.67927;
  bool retval.81;
  cudaError D.67923;
  bool retval.80;
  cudaError D.67919;
  bool retval.79;
  cudaError D.67915;
  bool retval.78;
  cudaError D.67911;
  bool retval.77;
  cudaError D.67907;
  bool retval.76;
  cudaError D.67903;
  bool retval.75;
  cudaError D.67899;
  bool retval.74;

  <bb 2>:
  D.67931 = cudaSetupArgument (&__par0, 4, 0);
  D.67899 = D.67931;
  retval.74 = D.67899 != 0;
  if (retval.74 != 0)
    goto <bb 11>;
  else
    goto <bb 3>;

  <bb 3>:
  D.67932 = cudaSetupArgument (&__par1, 4, 4);
  D.67903 = D.67932;
  retval.75 = D.67903 != 0;
  if (retval.75 != 0)
    goto <bb 11>;
  else
    goto <bb 4>;

  <bb 4>:
  D.67933 = cudaSetupArgument (&__par2, 4, 8);
  D.67907 = D.67933;
  retval.76 = D.67907 != 0;
  if (retval.76 != 0)
    goto <bb 11>;
  else
    goto <bb 5>;

  <bb 5>:
  D.67934 = cudaSetupArgument (&__par3, 8, 16);
  D.67911 = D.67934;
  retval.77 = D.67911 != 0;
  if (retval.77 != 0)
    goto <bb 11>;
  else
    goto <bb 6>;

  <bb 6>:
  D.67935 = cudaSetupArgument (&__par4, 8, 24);
  D.67915 = D.67935;
  retval.78 = D.67915 != 0;
  if (retval.78 != 0)
    goto <bb 11>;
  else
    goto <bb 7>;

  <bb 7>:
  D.67936 = cudaSetupArgument (&__par5, 8, 32);
  D.67919 = D.67936;
  retval.79 = D.67919 != 0;
  if (retval.79 != 0)
    goto <bb 11>;
  else
    goto <bb 8>;

  <bb 8>:
  D.67937 = cudaSetupArgument (&__par6, 8, 40);
  D.67923 = D.67937;
  retval.80 = D.67923 != 0;
  if (retval.80 != 0)
    goto <bb 11>;
  else
    goto <bb 9>;

  <bb 9>:
  D.67938 = cudaSetupArgument (&__par7, 8, 48);
  D.67927 = D.67938;
  retval.81 = D.67927 != 0;
  if (retval.81 != 0)
    goto <bb 11>;
  else
    goto <bb 10>;

  <bb 10>:
  __f = gemm_cuda_kernel;
  cudaLaunch<char> (gemm_cuda_kernel);

  <bb 11>:
  return;

}



;; Function void gemm_cuda_kernel(int, int, int, double, double, double*, double*, double*) (_Z16gemm_cuda_kerneliiiddPdS_S_, funcdef_no=3302, decl_uid=66844, cgraph_uid=3123)

void gemm_cuda_kernel(int, int, int, double, double, double*, double*, double*) (int __cuda_0, int __cuda_1, int __cuda_2, double __cuda_3, double __cuda_4, double * __cuda_5, double * __cuda_6, double * __cuda_7)
{
  <bb 2>:
  __device_stub__Z16gemm_cuda_kerneliiiddPdS_S_ (__cuda_0, __cuda_1, __cuda_2, __cuda_3, __cuda_4, __cuda_5, __cuda_6, __cuda_7);
  return;

}



;; Function void gemm_cuda(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096], double (*)[4096], double (*)[4096]) (_Z9gemm_cudaiiiddPA4096_dS0_S0_S0_S0_, funcdef_no=3267, decl_uid=66855, cgraph_uid=3089)

void gemm_cuda(int, int, int, double, double, double (*)[4096], double (*)[4096], double (*)[4096], double (*)[4096], double (*)[4096]) (int ni, int nj, int nk, double alpha, double beta, double[4096] * A, double[4096] * B, double[4096] * C, double[4096] * C_inputToGpu, double[4096] * C_outputFromGpu)
{
  cudaError D.67767;
  struct dim3 grid;
  struct dim3 block;
  double * C_gpu;
  double * B_gpu;
  double * A_gpu;
  cudaError D.67763;
  unsigned int D.67762;
  long unsigned int D.67761;
  float D.67760;
  float D.67759;
  float D.67758;
  unsigned int D.67757;
  unsigned int D.67756;
  long unsigned int D.67755;
  float D.67754;
  float D.67753;
  float D.67752;
  unsigned int D.67751;
  double * C_gpu.47;
  double * B_gpu.46;
  double * A_gpu.45;
  long unsigned int D.67747;
  struct _IO_FILE * stderr.44;

  <bb 2>:
  stderr.44 = stderr;
  fprintf (stderr.44, "Calling function gemm_cuda.\n");

  <bb 3>:
  GPU_argv_init ();

  <bb 4>:
  D.67747 = 134217728;
  cudaMalloc (&A_gpu, D.67747);

  <bb 5>:
  D.67747 = 134217728;
  cudaMalloc (&B_gpu, D.67747);

  <bb 6>:
  D.67747 = 134217728;
  cudaMalloc (&C_gpu, D.67747);

  <bb 7>:
  hookomp_timing_start (&data_transfer_h2d_start);
  D.67747 = 134217728;
  A_gpu.45 = A_gpu;
  cudaMemcpy (A_gpu.45, A, D.67747, 1);

  <bb 8>:
  D.67747 = 134217728;
  B_gpu.46 = B_gpu;
  cudaMemcpy (B_gpu.46, B, D.67747, 1);

  <bb 9>:
  D.67747 = 134217728;
  C_gpu.47 = C_gpu;
  cudaMemcpy (C_gpu.47, C_inputToGpu, D.67747, 1);

  <bb 10>:
  hookomp_timing_stop (&data_transfer_h2d_stop);
  dim3::dim3 (&block, 32, 8, 1);
  D.67751 = block.y;
  D.67752 = (float) D.67751;
  D.67753 = 4.096e+3 / D.67752;
  D.67754 = std::ceil (D.67753);
  D.67755 = (long unsigned int) D.67754;
  D.67756 = (unsigned int) D.67755;
  D.67757 = block.x;
  D.67758 = (float) D.67757;
  D.67759 = 4.096e+3 / D.67758;
  D.67760 = std::ceil (D.67759);
  D.67761 = (long unsigned int) D.67760;
  D.67762 = (unsigned int) D.67761;
  dim3::dim3 (&grid, D.67762, D.67756, 1);
  hookomp_timing_start (&dev_kernel1_start);
  D.67767 = cudaConfigureCall (grid, block, 0, 0B);

  <bb 11>:
  D.67763 = D.67767;
  if (D.67763 == 0)
    goto <bb 12>;
  else
    goto <bb 13>;

  <bb 12>:
  C_gpu.47 = C_gpu;
  B_gpu.46 = B_gpu;
  A_gpu.45 = A_gpu;
  gemm_cuda_kernel (ni, nj, nk, alpha, beta, A_gpu.45, B_gpu.46, C_gpu.47);

  <bb 13>:
  cudaThreadSynchronize ();

  <bb 14>:
  hookomp_timing_stop (&dev_kernel1_stop);
  hookomp_timing_start (&data_transfer_d2h_start);
  D.67747 = 134217728;
  C_gpu.47 = C_gpu;
  cudaMemcpy (C_outputFromGpu, C_gpu.47, D.67747, 2);

  <bb 15>:
  hookomp_timing_stop (&data_transfer_d2h_stop);
  A_gpu.45 = A_gpu;
  cudaFree (A_gpu.45);

  <bb 16>:
  B_gpu.46 = B_gpu;
  cudaFree (B_gpu.46);

  <bb 17>:
  C_gpu.47 = C_gpu;
  cudaFree (C_gpu.47);

  <bb 18>:
  A_gpu = {CLOBBER};
  B_gpu = {CLOBBER};
  C_gpu = {CLOBBER};
  block = {CLOBBER};
  grid = {CLOBBER};
  return;

<L3>:
  A_gpu = {CLOBBER};
  B_gpu = {CLOBBER};
  C_gpu = {CLOBBER};
  block = {CLOBBER};
  grid = {CLOBBER};
  resx 1

}



;; Function void __sti____cudaRegisterAll_39_tmpxft_00007eb1_00000000_7_gemm_cpp1_ii_132e4611() (_ZL76__sti____cudaRegisterAll_39_tmpxft_00007eb1_00000000_7_gemm_cpp1_ii_132e4611v, funcdef_no=3304, decl_uid=67450, cgraph_uid=3125)

void __sti____cudaRegisterAll_39_tmpxft_00007eb1_00000000_7_gemm_cpp1_ii_132e4611() ()
{
  void * * D.67944;
  void (*<T7869>) (void * *) callback_fp;
  void * * __cudaFatCubinHandle.83;
  void * * __cudaFatCubinHandle.82;

  <bb 2>:
  D.67944 = __cudaRegisterFatBinary (&__fatDeviceText);
  __cudaFatCubinHandle.82 = D.67944;
  __cudaFatCubinHandle = __cudaFatCubinHandle.82;
  callback_fp = __nv_cudaEntityRegisterCallback;
  __cudaFatCubinHandle.83 = __cudaFatCubinHandle;
  callback_fp (__cudaFatCubinHandle.83);
  atexit (__cudaUnregisterBinaryUtil);
  return;

}



;; Function <built-in> (_Z15gemm_omp_kerneliiiddPA4096_dS0_S0_._omp_fn.0, funcdef_no=3306, decl_uid=67704, cgraph_uid=3135)

<built-in> (struct .omp_data_s.41 & restrict .omp_data_i)
{
  double[4096] * C [value-expr: .omp_data_i->C];
  double[4096] * B [value-expr: .omp_data_i->B];
  double[4096] * A [value-expr: .omp_data_i->A];
  double beta [value-expr: .omp_data_i->beta];
  double alpha [value-expr: .omp_data_i->alpha];
  int nk [value-expr: .omp_data_i->nk];
  int nj [value-expr: .omp_data_i->nj];
  int ni [value-expr: .omp_data_i->ni];
  double D.68194;
  double D.68193;
  double D.68192;
  double[4096] * D.68191;
  double[4096] * D.68190;
  long unsigned int D.68189;
  long unsigned int D.68188;
  double D.68187;
  double D.68186;
  double D.68185;
  double[4096] * D.68184;
  double[4096] * D.68183;
  double[4096] * D.68182;
  double[4096] * D.68181;
  int D.68180;
  int k;
  double D.68178;
  double D.68177;
  double D.68176;
  double[4096] * D.68175;
  double[4096] * D.68174;
  double[4096] * D.68173;
  long unsigned int D.68172;
  long unsigned int D.68171;
  bool D.68170;
  int D.68169;
  int j;
  int D.68167;
  long int .iend0.115;
  int i;
  long int .istart0.114;
  bool D.68163;
  long int .iend0.113;
  long int .istart0.112;
  long int D.68160;
  int D.68159;
  long long int q_data_transfer_read.40;
  long unsigned int D.68157;
  long long int q_data_transfer_write.39;
  long unsigned int D.68155;
  long unsigned int D.68154;
  long unsigned int D.68153;

  <bb 16>:

  <bb 3>:
  current_loop_index = 0;
  num_threads_defined = 1;
  D.68153 = 16;
  D.68154 = D.68153 + 8;
  D.68155 = D.68154 * 16777216;
  q_data_transfer_write.39 = (long long int) D.68155;
  q_data_transfer_write = q_data_transfer_write.39;
  D.68157 = 134217728;
  q_data_transfer_read.40 = (long long int) D.68157;
  q_data_transfer_read = q_data_transfer_read.40;
  type_of_data_allocation = 1;
  D.68159 = .omp_data_i->ni;
  D.68160 = (long int) D.68159;
  D.68163 = __builtin_GOMP_loop_dynamic_start (0, D.68160, 1, 64, &.istart0.112, &.iend0.113);
  if (D.68163 != 0)
    goto <bb 14>;
  else
    goto <bb 11>;

  <bb 14>:
  .istart0.114 = .istart0.112;
  i = (int) .istart0.114;
  .iend0.115 = .iend0.113;
  D.68167 = (int) .iend0.115;

  <bb 4>:
  j = 0;

  <bb 9>:
  D.68169 = .omp_data_i->nj;
  if (j < D.68169)
    goto <bb 5>;
  else
    goto <bb 10>;

  <bb 10>:
  i = i + 1;
  if (i < D.68167)
    goto <bb 4>;
  else
    goto <bb 15>;

  <bb 15>:
  D.68170 = __builtin_GOMP_loop_dynamic_next (&.istart0.112, &.iend0.113);
  if (D.68170 != 0)
    goto <bb 14>;
  else
    goto <bb 11>;

  <bb 5>:
  D.68171 = (long unsigned int) i;
  D.68172 = D.68171 * 32768;
  D.68173 = .omp_data_i->C;
  D.68174 = D.68173 + D.68172;
  D.68171 = (long unsigned int) i;
  D.68172 = D.68171 * 32768;
  D.68175 = .omp_data_i->C;
  D.68174 = D.68175 + D.68172;
  D.68176 = *D.68174[j];
  D.68177 = .omp_data_i->beta;
  D.68178 = D.68176 * D.68177;
  *D.68174[j] = D.68178;
  k = 0;

  <bb 7>:
  D.68180 = .omp_data_i->nk;
  if (k < D.68180)
    goto <bb 6>;
  else
    goto <bb 8>;

  <bb 8>:
  j = j + 1;
  goto <bb 9>;

  <bb 6>:
  D.68171 = (long unsigned int) i;
  D.68172 = D.68171 * 32768;
  D.68181 = .omp_data_i->C;
  D.68174 = D.68181 + D.68172;
  D.68171 = (long unsigned int) i;
  D.68172 = D.68171 * 32768;
  D.68182 = .omp_data_i->C;
  D.68174 = D.68182 + D.68172;
  D.68176 = *D.68174[j];
  D.68171 = (long unsigned int) i;
  D.68172 = D.68171 * 32768;
  D.68183 = .omp_data_i->A;
  D.68184 = D.68183 + D.68172;
  D.68185 = *D.68184[k];
  D.68186 = .omp_data_i->alpha;
  D.68187 = D.68185 * D.68186;
  D.68188 = (long unsigned int) k;
  D.68189 = D.68188 * 32768;
  D.68190 = .omp_data_i->B;
  D.68191 = D.68190 + D.68189;
  D.68192 = *D.68191[j];
  D.68193 = D.68187 * D.68192;
  D.68194 = D.68176 + D.68193;
  *D.68174[j] = D.68194;
  k = k + 1;
  goto <bb 7>;

  <bb 11>:
  __builtin_GOMP_loop_end_nowait ();

  <bb 12>:
  return;

}


